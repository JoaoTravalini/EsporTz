<div class="auth-container">
  <div class="auth-card">
    <!-- Logo -->
    <div class="auth-logo">
      <div class="logo-icon">⚡</div>
      <span class="logo-text">EsporTz</span>
    </div>

    <!-- Tabs -->
    <div class="auth-tabs">
      <button
        type="button"
        class="auth-tab"
        [class.active]="mode === 'login'"
        (click)="setMode('login')">
        Entrar
      </button>
      <button
        type="button"
        class="auth-tab"
        [class.active]="mode === 'register'"
        (click)="setMode('register')">
        Criar conta
      </button>
    </div>

    <!-- Heading -->
    <div class="auth-header">
      <h1>{{ heading }}</h1>
      <p>{{ subtitle }}</p>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="auth-error">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <circle cx="10" cy="10" r="9" stroke="currentColor" stroke-width="2"/>
        <path d="M10 6v4M10 14h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      {{ errorMessage }}
    </div>

    <!-- Login Form -->
    <form *ngIf="mode === 'login'" class="auth-form" (ngSubmit)="handleSubmit()" #loginFormRef="ngForm">
      <div class="form-group">
        <label for="loginEmail">E-mail</label>
        <input
          id="loginEmail"
          type="email"
          name="loginEmail"
          placeholder="seu@email.com"
          [(ngModel)]="loginForm.email"
          required
          autocomplete="email"
        />
      </div>

      <div class="form-group">
        <label for="loginPassword">Senha</label>
        <input
          id="loginPassword"
          type="password"
          name="loginPassword"
          placeholder="••••••••"
          [(ngModel)]="loginForm.password"
          required
          minlength="6"
          autocomplete="current-password"
        />
      </div>

      <div class="form-extras">
        <label class="checkbox-label">
          <input type="checkbox" name="remember" />
          <span>Lembrar-me</span>
        </label>
        <a href="#" class="link-text">Esqueceu a senha?</a>
      </div>

      <button type="submit" class="btn-primary" [disabled]="loading || loginFormRef.invalid">
        <span *ngIf="!loading">Entrar</span>
        <span *ngIf="loading">Entrando...</span>
      </button>
    </form>

    <!-- Register Form -->
    <form *ngIf="mode === 'register'" class="auth-form" (ngSubmit)="handleSubmit()" #registerFormRef="ngForm">
      <div class="form-group">
        <label for="registerName">Nome completo</label>
        <input
          id="registerName"
          type="text"
          name="registerName"
          placeholder="João Silva"
          [(ngModel)]="registerForm.name"
          required
          autocomplete="name"
        />
      </div>

      <div class="form-group">
        <label for="registerEmail">E-mail</label>
        <input
          id="registerEmail"
          type="email"
          name="registerEmail"
          placeholder="seu@email.com"
          [(ngModel)]="registerForm.email"
          required
          autocomplete="email"
        />
      </div>

      <div class="form-group">
        <label for="registerPassword">Senha</label>
        <input
          id="registerPassword"
          type="password"
          name="registerPassword"
          placeholder="••••••••"
          [(ngModel)]="registerForm.password"
          required
          minlength="6"
          autocomplete="new-password"
        />
      </div>

      <div class="form-group">
        <label for="registerConfirmPassword">Confirmar senha</label>
        <input
          id="registerConfirmPassword"
          type="password"
          name="registerConfirmPassword"
          placeholder="••••••••"
          [(ngModel)]="registerForm.confirmPassword"
          required
          minlength="6"
          autocomplete="new-password"
        />
      </div>

      <button
        type="submit"
        class="btn-primary"
        [disabled]="loading || registerFormRef.invalid || registerForm.password !== registerForm.confirmPassword">
        <span *ngIf="!loading">Criar conta</span>
        <span *ngIf="loading">Criando conta...</span>
      </button>
    </form>

    <!-- Toggle Mode -->
    <div class="auth-footer">
      <span>{{ togglePrompt }}</span>
      <button type="button" class="link-button" (click)="toggleMode()">
        {{ toggleLabel }}
      </button>
    </div>
  </div>

  <!-- Background decoration -->
  <div class="auth-bg">
    <div class="bg-circle bg-circle-1"></div>
    <div class="bg-circle bg-circle-2"></div>
    <div class="bg-circle bg-circle-3"></div>
  </div>
</div>
