<section class="composer" [class.composer--expanded]="isExpanded">
  <header class="composer__top">
    <div class="avatar" aria-hidden="true">{{ userInitials }}</div>
    <button
      *ngIf="!isExpanded"
      type="button"
      class="composer__prompt"
      (click)="openComposer()"
    >
      Comece uma publicação
    </button>
    <textarea
      *ngIf="isExpanded"
      class="composer__textarea"
      rows="4"
      placeholder="Compartilhe a última jogada, resultado ou insight esportivo"
      [(ngModel)]="postContent"
    ></textarea>
  </header>

  <p *ngIf="isExpanded" class="composer__context">
    <span class="composer__name">{{ userName }}</span>
    <span class="composer__title">{{ userTitle }}</span>
    <span class="composer__hint">Sua publicação aparece para fãs e equipes que você segue.</span>
  </p>

  <footer class="composer__bottom">
    <div class="composer__actions" role="list">
      <button
        type="button"
        class="action"
        *ngFor="let action of actions"
        [attr.aria-label]="action.description"
      >
        <span class="action__icon" aria-hidden="true" [ngSwitch]="action.icon">
          <svg *ngSwitchCase="'highlight'" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.5 4.5L13 1L19.5 4.5L22 12.5L19 20.5H7L4 12.5L6.5 4.5Z" fill="#FFD1A0" stroke="#1F2530" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M11 9.5L16 12.5L11 15.5V9.5Z" fill="#FFFFFF"/>
          </svg>
          <svg *ngSwitchCase="'stats'" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="3" y="10" width="4" height="12" rx="1.5" fill="#1F2530"/>
            <rect x="10.5" y="6" width="4" height="16" rx="1.5" fill="#FFA163"/>
            <rect x="18" y="12" width="4" height="10" rx="1.5" fill="#1F2530"/>
            <path d="M4 6L9 9L15 5.5L20 8L22.5 6" stroke="#FFB075" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <svg *ngSwitchCase="'analysis'" width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="5" y="4" width="16" height="18" rx="2" fill="#FFD1A0"/>
            <path d="M8 9H18" stroke="#FFFFFF" stroke-width="1.6" stroke-linecap="round"/>
            <path d="M8 13H18" stroke="#FFFFFF" stroke-width="1.6" stroke-linecap="round"/>
            <path d="M8 17H14" stroke="#FFFFFF" stroke-width="1.6" stroke-linecap="round"/>
            <circle cx="19.5" cy="19.5" r="4" fill="#1F2530"/>
            <path d="M19.5 17.5V21.5M17.5 19.5H21.5" stroke="#FFE2B2" stroke-width="1.4" stroke-linecap="round"/>
          </svg>
        </span>
        <span class="action__label">{{ action.label }}</span>
      </button>
    </div>

    <div *ngIf="isExpanded" class="composer__controls">
      <button type="button" class="btn btn--ghost" (click)="handleCancel()">Cancelar</button>
      <button
        type="button"
        class="btn btn--primary"
        [disabled]="!postContent.trim()"
        (click)="handleSubmit()"
      >
        Publicar
      </button>
    </div>
  </footer>
</section>
